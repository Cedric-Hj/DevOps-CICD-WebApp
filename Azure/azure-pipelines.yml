trigger:
  branches:
    include:
      - test  # Change to your desired branch

pool:
  name: jenkins

steps:
  # Install Node.js (18.x) and npm
  - script: |
      curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
      sudo apt-get install -y nodejs
    displayName: 'Install Node.js 18 and npm'

  # Step 1: Change directory to 'Azure' to access package.json and run tests
  - script: |
      cd Azure  # Change directory to where package.json is located
      npm install  # Install dependencies
      npx playwright install  # Install Playwright browsers
      npm test  # Run the tests
    displayName: 'Run Playwright Tests'
