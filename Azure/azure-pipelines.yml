trigger:
  branches:
    include:
      - test  # Change this to your desired branch

pool:
  name: jenkins

steps:
  - task: UseNode@1
    inputs:
      versionSpec: '23.x'  # Ensure Node.js version 23.x is used

  # Step 1: Install dependencies and run Playwright tests
  - script: |
      cd Azure  # Change directory to where package.json is located
      npm install  # Use npm install if no package-lock.json exists
      npx playwright install  # Install Playwright browsers
      npm test  # Run the tests (npm test should run Playwright tests)
    displayName: 'Install Dependencies and Run Playwright Tests'
